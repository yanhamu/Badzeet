@model Badzeet.Web.Features.Book.DashboardViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="text-center">
    <h2>
    <span><i class="fas fa-angle-left"></i></span>
        @Model.Interval.From.ToString("m") - @Model.Interval.To.ToString("m")
    <span><i class="fas fa-angle-right"></i></span>
    </h2>
</div>
@if (DateTime.Now <= Model.Interval.To)
{
    <div class="text-center">
        @{ var days = (int)(Model.Interval.To - DateTime.Now).TotalDays; }
        @(days) @(days > 1 ? "days" : "day") ahead
    </div>
}
<table class="table table-sm">
    <tr>
        <th></th>
        @foreach (var u in Model.Users)
        {
            <th>@u.Value.Nickname</th>
        }
        <th>total</th>
    </tr>
    @foreach (var category in Model.Categories)
    {
        <tr>
            <td><b>@category.Name</b></td>
            @foreach (var userId in Model.Users.Keys)
            {
                <td>@category.PerUserSum[userId].ToString("F0")</td>
            }
            <td><b>@category.Sum.ToString("F0")</b></td>
        </tr>
    }
    <tr class="table-primary">
        <td><b>Sum</b></td>
        @foreach (var user in Model.Users)
        {
            <td><b>@user.Value.Total.ToString("F0")</b></td>
        }
        <td><b>@Model.Total.ToString("F0")</b></td>
    </tr>
</table>